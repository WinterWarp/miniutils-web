(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{LkhO:function(e,t,o){"use strict";var n=o("qrY6"),r=n.Nothing,i=n.isNothing,a="undefined"!=typeof window?window:r,s="undefined"!=typeof document?document:r;e.exports.window=a,e.exports.document=s,e.exports.exists=function(e){return!i(e)}},UxkS:function(e,t,o){"use strict";o.r(t);var n,r=o("7L9N"),i=o("LkhO"),a=o("wGBp"),s=o("dV/x"),l=o("Fcif"),h=o("mXGw"),c=o("PDtE"),u=o("gbh0"),g=o("x+AB"),d=o("mxPc"),m=h.forwardRef((function(e,t){var o=e.children,n=e.classes,r=e.className,i=e.color,a=void 0===i?"default":i,u=e.component,m=void 0===u?"button":u,p=e.disabled,k=void 0!==p&&p,b=e.disableFocusRipple,f=void 0!==b&&b,w=e.focusVisibleClassName,E=e.size,v=void 0===E?"large":E,S=e.variant,C=void 0===S?"round":S,y=Object(s.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return h.createElement(g.a,Object(l.a)({className:Object(c.a)(n.root,r,"round"!==C&&n.extended,"large"!==v&&n["size".concat(Object(d.a)(v))],k&&n.disabled,{primary:n.primary,secondary:n.secondary,inherit:n.colorInherit}[a]),component:m,disabled:k,focusRipple:!f,focusVisibleClassName:Object(c.a)(n.focusVisible,w),ref:t},y),h.createElement("span",{className:n.label},o))})),p=Object(u.a)((function(e){return{root:Object(l.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(m),k=o("p8SL"),b=o("YvUk"),f=o("26BU"),w=o("kebl"),E=o("0g17"),v=o("/NZN"),S=o("oQEK"),C=o("59K6"),y=o("MvTK"),T=o("lxKZ"),B=o("I9Y2"),I=Object(B.a)(h.createElement("path",{d:"M15.07 1.01h-6v2h6v-2zm-4 13h2v-6h-2v6zm8.03-6.62l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.14 4.74 14.19 4 12.07 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.11-.74-4.06-1.97-5.61zm-7.03 12.62c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"TimerOutlined"),x=Object(B.a)(h.createElement("path",{d:"M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"}),"NotificationsActive"),L=o("JbGG"),P=o.n(L),D=o("68zB"),A=o.n(D),N=o("Hrl7");!function(e){e[e.Work=0]="Work",e[e.ShortBreak=1]="ShortBreak",e[e.LongBreak=2]="LongBreak"}(n||(n={}));var O=function(){function e(){this.state=n.Work,this.timeRemaining=1500,this.timeStartedAt=1500,this.percentUntilEnd=100,this.themeColor="#81A1C1",this.isPaused=!0,this.breaksTaken=0,this.currentlyTiming="Please enter thing to time (use button below)",this.displayText="Please enter thing to time (use button below)",this.workLength=25,this.shortBreakLength=5,this.longBreakLength=10}var t=e.prototype;return t._nextState=function(){switch(this.state){case n.Work:if(this.breaksTaken>=4){this.timeRemaining=60*this.longBreakLength,this.state=n.LongBreak,this.timeStartedAt=60*this.longBreakLength,this.themeColor="#BF616A",this.displayText="Take a nice long(er) break!";var e="Take a nice, long(er) break of "+this.longBreakLength+" minutes.";return new Notification("Thorough Pomodoro",{body:e}).onclick=function(){return i.window.focus()},this}this.timeRemaining=60*this.shortBreakLength,this.state=n.ShortBreak,this.timeStartedAt=60*this.shortBreakLength,this.themeColor="#EBCB8B",this.displayText="Take a little break!";e="Take a little "+this.shortBreakLength+" minute break.";return new Notification("Thorough Pomodoro",{body:e}).onclick=function(){return i.window.focus()},this;case n.ShortBreak:this.timeRemaining=60*this.workLength,this.state=n.Work,this.timeStartedAt=60*this.workLength,this.breaksTaken+=1,this.themeColor="#81A1C1",this.displayText=this.currentlyTiming;e="Time to work on "+this.currentlyTiming+" for "+this.workLength+" minutes.";return new Notification("Thorough Pomodoro",{body:e}).onclick=function(){return i.window.focus()},this;case n.LongBreak:this.timeRemaining=60*this.workLength,this.state=n.Work,this.timeStartedAt=60*this.workLength,this.breaksTaken=0,this.themeColor="#81A1C1",this.displayText=this.currentlyTiming;e="Time to work on "+this.currentlyTiming+" for "+this.workLength+" minutes.";return new Notification("Thorough Pomodoro",{body:e}).onclick=function(){return i.window.focus()},this}},t.togglePause=function(){return"Please enter thing to time (use button below)"!=this.currentlyTiming?(this.isPaused=!this.isPaused,this):this},t.setPauseState=function(e){return"Please enter thing to time (use button below)"!=this.currentlyTiming?(this.isPaused=e,this):this},t.changeTiming=function(e){return this.currentlyTiming=e,this.state==n.Work&&(this.displayText=e),this},t.tick=function(){return this.isPaused?this:(this.timeRemaining-=1,this.timeRemaining<=0?(this._nextState(),this):(this.percentUntilEnd=this.timeRemaining/this.timeStartedAt*100,this))},t._zeroPad=function(e){return e<10?e.toString().padStart(2,"0"):e.toString().padEnd(2,"0")},t.getTime=function(){return this._zeroPad(Math.floor(this.timeRemaining/60))+":"+this._zeroPad(this.timeRemaining%60)},t.changeIntervals=function(e,t,o){switch(this.workLength=e,this.shortBreakLength=t,this.longBreakLength=o,this.state){case n.Work:this.timeStartedAt=60*this.workLength;break;case n.ShortBreak:this.timeStartedAt=60*this.shortBreakLength;break;case n.LongBreak:this.timeStartedAt=60*this.longBreakLength}return this.timeRemaining=this.timeStartedAt,this},e}(),z=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){return h.createElement(a.a,{title:"Pause/Resume Timer",arrow:!0},h.createElement(p,{style:{backgroundColor:this.props.pomodoro.themeColor,height:400,width:400,lineHeight:"400px",textAlign:"center",position:"absolute",top:"50%",left:"50%",margin:"-200px 0 0 -200px"},"aria-label":"Pause/Resume Timer",onClick:this.props.togglePause},h.createElement("span",{style:{display:"inline-block",verticalAlign:"middle",lineHeight:"normal",textAlign:"center",textTransform:"none",fontWeight:600,fontSize:"400"}},this.props.pomodoro.getTime(),h.createElement("br",null),this.props.pomodoro.displayText,h.createElement("br",null),Math.round(this.props.pomodoro.percentUntilEnd),"% left",this.props.pomodoro.isPaused&&h.createElement(h.Fragment,null,h.createElement("br",null),"Paused."))))},t}(h.Component),R=function(e){function t(t){var o;return(o=e.call(this,t)||this).closeChangeTimingDialog=function(){o.setState({changeTimingDialogShown:!1}),o.props.setPause(!1)},o.openChangeTimingDialog=function(){o.setState({changeTimingDialogShown:!0}),o.props.setPause(!0)},o.state={changeTimingDialogShown:!0},o}return Object(r.a)(t,e),t.prototype.render=function(){return h.createElement(h.Fragment,null,!this.state.changeTimingDialogShown&&h.createElement(a.a,{title:"Change what you're doing",arrow:!0},h.createElement(p,{style:{backgroundColor:"#8FBCBB",color:"#ECEFF4",position:"absolute",top:"50%",left:"50%",margin:"280px 0 0 -26px"},"aria-label":"Change what you're doing",onClick:this.openChangeTimingDialog},h.createElement(I,null))),h.createElement(k.a,{open:this.state.changeTimingDialogShown,onClose:this.closeChangeTimingDialog,scroll:"body"},h.createElement(b.a,null,"Change timing"),h.createElement(f.a,null,h.createElement(w.a,{variant:"outlined",autoFocus:!0,label:"What do you want to do?",placeholder:"Write page 4 of story",onChange:this.props.onTimingChange,id:"todo-input"})),h.createElement(E.a,null,h.createElement(v.a,{onClick:this.closeChangeTimingDialog},"Done"))))},t}(h.Component),j=function(e){function t(t){var o;return(o=e.call(this,t)||this).closeIntervalEditorDialog=function(){o.setState({intervalEditorDialogShown:!1}),o.props.setPause(!1)},o.openIntervalEditorDialog=function(){o.setState({intervalEditorDialogShown:!0}),o.props.setPause(!0)},o._isInteger=function(e){return/^[0-9\b]+$/.test(e.target.value)},o.changeWorkLength=function(e){o._isInteger(e)?(o.props.onIntervalChange(parseInt(e.target.value),o.props.pomodoro.shortBreakLength,o.props.pomodoro.longBreakLength),o.setState({workIntervalError:""})):o.setState({workIntervalError:"Not a number"})},o.changeShortBreakLength=function(e){o._isInteger(e)?(o.props.onIntervalChange(o.props.pomodoro.workLength,parseInt(e.target.value),o.props.pomodoro.longBreakLength),o.setState({shortBreakIntervalError:""})):o.setState({shortBreakIntervalError:"Not a number"})},o.changeLongBreakLength=function(e){o._isInteger(e)?(o.props.onIntervalChange(o.props.pomodoro.workLength,o.props.pomodoro.shortBreakLength,parseInt(e.target.value)),o.setState({longBreakIntervalError:""})):o.setState({longBreakIntervalError:"Not a number"})},o.resetToDefaultValues=function(){o.props.onIntervalChange(25,5,10)},o.state={intervalEditorDialogShown:!1,workIntervalError:"",shortBreakIntervalError:"",longBreakIntervalError:""},o}return Object(r.a)(t,e),t.prototype.render=function(){return h.createElement(h.Fragment,null,h.createElement(a.a,{title:"Timer Settings",arrow:!0},h.createElement(S.a,{style:{position:"absolute",top:"50%",left:"50%",margin:"-250px 0 0 200px",color:"#ECEFF4"},"aria-label":"Timer Settings",onClick:this.openIntervalEditorDialog},h.createElement(A.a,null))),h.createElement(k.a,{open:this.state.intervalEditorDialogShown,onClose:this.closeIntervalEditorDialog},h.createElement(b.a,null,"Change intervals"),h.createElement(f.a,null,h.createElement("form",{noValidate:!0,style:{display:"grid",gap:15}},h.createElement(w.a,{variant:"outlined",label:"Length of work interval",onChange:this.changeWorkLength,defaultValue:this.props.pomodoro.workLength.toString(),id:"work-interval-input",error:0!==this.state.workIntervalError.length,helperText:this.state.workIntervalError,InputProps:{inputMode:"numeric",endAdornment:h.createElement(C.a,{position:"end"},"min")}}),h.createElement(w.a,{variant:"outlined",label:"Length of short break",onChange:this.changeShortBreakLength,defaultValue:this.props.pomodoro.shortBreakLength.toString(),id:"short-break-interval-input",error:0!==this.state.shortBreakIntervalError.length,helperText:this.state.shortBreakIntervalError,InputProps:{inputMode:"numeric",endAdornment:h.createElement(C.a,{position:"end"},"min")}}),h.createElement(w.a,{variant:"outlined",label:"Length of long break",onChange:this.changeLongBreakLength,defaultValue:this.props.pomodoro.longBreakLength.toString(),id:"long-break-interval-input",error:0!==this.state.longBreakIntervalError.length,helperText:this.state.longBreakIntervalError,InputProps:{inputMode:"numeric",endAdornment:h.createElement(C.a,{position:"end"},"min")}}))),h.createElement(E.a,null,h.createElement(v.a,{onClick:this.resetToDefaultValues},"Reset"),h.createElement(v.a,{onClick:this.closeIntervalEditorDialog},"Done"))))},t}(h.Component),F=function(e){function t(t){var o;return(o=e.call(this,t)||this).openAboutDialog=function(){o.setState({AboutDialogShown:!0})},o.closeAboutDialog=function(){o.setState({AboutDialogShown:!1})},o.state={AboutDialogShown:!1},o}return Object(r.a)(t,e),t.prototype.render=function(){return h.createElement(h.Fragment,null,h.createElement(a.a,{title:"What's this?",arrow:!0},h.createElement(S.a,{style:{position:"absolute",top:"50%",left:"50%",margin:"-250px 0 0 -250px",color:"#ECEFF4"},onClick:this.openAboutDialog},h.createElement(P.a,null))),h.createElement(k.a,{open:this.state.AboutDialogShown,onClose:this.closeAboutDialog},h.createElement(b.a,null,"What's this?"),h.createElement(f.a,null,h.createElement(y.a,null,"The"," ",h.createElement("a",{href:"https://en.wikipedia.org/wiki/Pomodoro_Technique"},"Pomodoro technique")," ","divides work into 25 minute intervals with 5-10 minute breaks in between. ",h.createElement("br",null),"Click the button in the middle to pause/resume ther timer, use the settings button to change interval lengths, and use the timer button to change what you are timing.")),h.createElement(E.a,null,h.createElement(v.a,{onClick:this.closeAboutDialog},"OK"))))},t}(h.Component),W=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){return h.createElement(T.a,{style:{color:"#88C0D0",position:"absolute",top:"50%",left:"50%",margin:"-250px 0 0 -250px"},size:500,value:this.props.percentToEnd,variant:"determinate",thickness:10})},t}(h.Component),M=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){return h.createElement("div",{id:"ninja"},"Notification"in i.window&&"default"===Notification.permission&&h.createElement(a.a,{title:"Allow notifications",arrow:!0},h.createElement(S.a,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",marginTop:"-300px",color:"#ECEFF4"},onClick:function(){return Notification.requestPermission().then()}},h.createElement(x,null))))},t}(h.Component),V=function(e){function t(t){var o;return(o=e.call(this,t)||this).togglePause=function(){o.setState({pomodoro:o.state.pomodoro.togglePause()})},o.setPause=function(e){o.setState({pomodoro:o.state.pomodoro.setPauseState(e)})},o.changeTiming=function(e){o.setState({pomodoro:o.state.pomodoro.changeTiming(e.target.value)})},o.onIntervalChange=function(e,t,n){o.setState({pomodoro:o.state.pomodoro.changeIntervals(e,t,n)}),i.window.localStorage.setItem("work",e.toString()),i.window.localStorage.setItem("shortBreak",t.toString()),i.window.localStorage.setItem("longBreak",n.toString())},o.componentDidMount=function(){o.tickPomodoro=setInterval((function(){return o.setState({pomodoro:o.state.pomodoro.tick()})}),1e3),i.window.localStorage.getItem("work")&&i.window.localStorage.getItem("shortBreak")&&i.window.localStorage.getItem("longBreak")?o.setState({pomodoro:o.state.pomodoro.changeIntervals(parseInt(i.window.localStorage.getItem("work")),parseInt(i.window.localStorage.getItem("shortBreak")),parseInt(i.window.localStorage.getItem("longBreak")))}):(i.window.localStorage.setItem("work","25"),i.window.localStorage.setItem("shortBreak","5"),i.window.localStorage.setItem("longBreak","10"))},o.state={pomodoro:new O},o.tickPomodoro=null,o}return Object(r.a)(t,e),t.prototype.render=function(){return h.createElement(h.StrictMode,null,h.createElement(N.a,{title:"Thorough Pomodoro",meta:[{name:"description",content:"Simple Pomodoro timer. Copyright Adam Cole 2021, licensed under GNU AGPL-3.0"}]},h.createElement("style",null,"body{background-color: #2E3440;}")),h.createElement("main",null,h.createElement("noscript",null,h.createElement("h1",null,"Uh-Oh Spaghettio!"),h.createElement("p",null,"I don't know how you expect to browse the web without JavaScript enabled, but you need it for this page.")),h.createElement("div",null,h.createElement(W,{percentToEnd:this.state.pomodoro.percentUntilEnd}),h.createElement(F,null),h.createElement(M,null),h.createElement(z,{pomodoro:this.state.pomodoro,togglePause:this.togglePause}),h.createElement(j,{onIntervalChange:this.onIntervalChange,setPause:this.setPause,pomodoro:this.state.pomodoro}),h.createElement(R,{name:"",onTimingChange:this.changeTiming,setPause:this.setPause}))))},t}(h.Component);t.default=V},qrY6:function(e,t,o){"use strict";o.r(t),o.d(t,"Nothing",(function(){return r})),o.d(t,"toBool",(function(){return i})),o.d(t,"isNothing",(function(){return a})),o.d(t,"isSomething",(function(){return s})),o.d(t,"serialize",(function(){return l})),o.d(t,"deserialize",(function(){return h}));var n,r=((n=function(){return r}).toString=n.toLocaleString=n[Symbol.toPrimitive]=function(){return""},n.valueOf=function(){return!1},new Proxy(Object.freeze(n),{get:function(e,t){return e.hasOwnProperty(t)?e[t]:r}})),i=function(e){return!(!e||!e.valueOf())},a=function(e){return e===r},s=function(e){return!(e===r||null==e)},l=function(e){return JSON.stringify(e,(function(e,t){return t===r?null:t}))},h=function(e){return JSON.parse(e,(function(e,t){return null===t?r:t}))}}}]);
//# sourceMappingURL=component---src-pages-pomodoro-tsx-4a5cff080917d9214481.js.map